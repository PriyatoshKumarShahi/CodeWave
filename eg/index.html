<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Snippet Library</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.css">
    <style>
        body {
            background-color: #2c2c2c;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        .editor {
            height: 200px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
        }
        #snippet-container {
            margin-top: 20px;
        }
        .snippet {
            padding: 10px;
            border: 1px solid #444;
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        button {
            background-color: #007bff;
            border: none;
            color: white;
            padding: 5px 10px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<h1>Code Snippet Library</h1>
HTML
<textarea id="html-editor" class="editor"></textarea>
CSS
<textarea id="css-editor" class="editor">CSS</textarea>
<textarea id="js-editor" class="editor">JS</textarea>

<button id="save-snippet">Save Snippet</button>

<h2>Saved Snippets</h2>
<div id="snippet-container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/css/css.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const editors = {};

        // Initialize CodeMirror editors for HTML, CSS, and JavaScript
        editors.html = CodeMirror.fromTextArea(document.getElementById('html-editor'), {
            mode: "text/html",
            theme: "monokai",
            lineNumbers: true,
            lineWrapping: true,
        });

        editors.css = CodeMirror.fromTextArea(document.getElementById('css-editor'), {
            mode: "text/css",
            theme: "monokai",
            lineNumbers: true,
            lineWrapping: true,
        });

        editors.javascript = CodeMirror.fromTextArea(document.getElementById('js-editor'), {
            mode: "text/javascript",
            theme: "monokai",
            lineNumbers: true,
            lineWrapping: true,
        });

        // Snippet management
        const snippetContainer = document.getElementById('snippet-container');
        const snippets = JSON.parse(localStorage.getItem('snippets')) || [];

        function displaySnippets() {
            snippetContainer.innerHTML = '';
            snippets.forEach((snippet, index) => {
                const snippetDiv = document.createElement('div');
                snippetDiv.className = 'snippet';
                
                const codePre = document.createElement('pre');
                codePre.textContent = snippet;
                snippetDiv.appendChild(codePre);

                const removeButton = document.createElement('button');
                removeButton.textContent = 'Remove';
                removeButton.onclick = (e) => {
                    e.stopPropagation(); // Prevent triggering snippet click
                    removeSnippet(index);
                };

                snippetDiv.appendChild(removeButton);
                snippetContainer.appendChild(snippetDiv);
            });
        }

        function saveSnippet() {
            const htmlCode = editors.html.getValue();
            const cssCode = editors.css.getValue();
            const jsCode = editors.javascript.getValue();
            const combinedSnippet = `HTML:\n${htmlCode}\n\nCSS:\n${cssCode}\n\nJavaScript:\n${jsCode}`;

            snippets.push(combinedSnippet);
            localStorage.setItem('snippets', JSON.stringify(snippets));
            displaySnippets();
        }

        function removeSnippet(index) {
            snippets.splice(index, 1);
            localStorage.setItem('snippets', JSON.stringify(snippets));
            displaySnippets();
        }

        document.getElementById('save-snippet').addEventListener('click', saveSnippet);

        // Load snippets on page load
        displaySnippets();
    });
</script>
</body>
</html>
